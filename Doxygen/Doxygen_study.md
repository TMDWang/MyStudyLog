### Doxygen

本文参考以下链接：

https://blog.csdn.net/weixin_44567318/article/details/118579636

说明：

命令可以以 @ 或者 \ 开头，参考链接中的教程都是以 \ 开头，根据个人习惯或喜好可以使用二者中的任意一个，学习笔记中我用 @ 。

#### 0 术语和约定

所有的命令都以反斜杠 \ 或 @ 符号开始，使用 \ 还是 @ 取决于你更喜欢一种风格。

有些命令有一个或多个参数，每个参数都有一定的范围：

- 如果使用<>尖括号（尖括号不必键入），则表示参数为单个单词
- 如果使用()括号（圆括号不必键入），则表示参数扩展到找到命令所在行的末尾
- 如果使用{}花括号（花括号不必键入），则参数扩展到下一段。段落由空白行或段落指示符分隔。注意{}花括号也用于命令选项，这时的花括号是强制的，只是普通字符。**开始的花括号必须直接跟在命令后边，所以不能有空格**。

如果使用[]方括号（方括号不必键入），参数是可选的，除非它们被放在引号之间，在这种情况下，[]方括号是命令参数的强制部分。

#### 1 工具简介

Doxygen是一个程序的文件产生工具，可将程序中的特定注释转换成说明文件。

使用Doxygen产生文件需要两步，首先是符合Doxygen工具批注格式的批注撰写，然后利用Doxygen工具产生文件。

#### 2 常用指令

##### 2.1 @file 或 \file

语法：

```
@file [<文件名>]
```

表明注释块是名称为<文件名>的源文件或头文件记录。如果文件名不是唯一的，文件名可以包含（一部分）路径。如果文件名被省略，则包含@file命令的记录块将属于它所在的文件。

**重要：**

全局函数、变量、类型定义和枚举的记录只有在他们所在的文件有**文件记录**或者**EXTRACT_ALL被设置为YES**时才会包含在输出中。

```C
/** @file source.c
 *  这里是source.c文件的记录，
 *  如果没有此 文件记录，下面的枚举几录也不会包含在输出中
 *  除非 EXTRACT_ALL 配置被设置为 YES
 */
 
 /** 这里是枚举记录，如果该文件没有文件记录，则此记录不会被输出，
  *  除非 EXTRACT_ALL 配置被设置为 YES
  */
enum clour
{
    RED,
    BULE,
    GREEN,
}
```

##### 2.2 @enum 或 \enum

```c
@enum <枚举名>
```

表明注释块是名称为<枚举名>的枚举记录。如果注释块直接位于enum声明的前面，则@enum注释可以省略。

```C
/**
 * @enum colour
 * 这里是枚举colour的描述，因为注释块在声明的前面，所以上面的命令是可以省略的
 */
enum colour
{
    RED,
    BULE,
    GREEN,
}
```

##### 2.3 @struct 或 \struct

```C
@struct <结构体名>
```

用法与@enum类似。

##### 2.4 @union 或 \union

```C
@union <联合名>
```

用法与@enum类似。

##### 2.5 @brief 或 \brief

```
@brief {简要描述}
```

开始一段简要描述。对于函数和文件，简要描述将在列表中显示。结构体、枚举、联合等都可以使用此命令添加简要描述。

##### 2.6 @details 或 \details

```
@details {详细描述}
```

同@brief开始一个简要的描述，@details开始详细的描述。也可以开始于一个新的段落（空行），这样就不需要@details命令了

```C
/**
 * @file 文件名
 * @brief 简要描述
 * @details 详细描述
 */
 
 或者
 
/**
 * @file 文件名
 * @brief 简要描述
 *
 * 详细描述
 */ 
```

##### 2.7 @param 或 \param

```c
@param '['dir']' <参数名> {参数描述}
```

开始一个名称为<**参数名**>的函数参数的描述。检查参数是否存在，如果这个（或其他任何）参数的记录缺失或没有出现在函数声明或定义中，则给出一个警告。

@param命令有一个可选属性**dir**，用来指定参数的方向。可能的值是“[in]”、"[in,out]"、"[out]"，注意这个描述中的[方括号]，是必须键入的。

参数描述是一个没有特殊内部结构的段落。所有的视觉增强命令可以在段落内使用。多个相邻的@param命令将被合并成一个段落，每个参数描述将从新的一行开始。当遇到空行或其他分段命令时@param命令结束。

注意，您也可以使用一个逗号分隔列表来记录多个参数。

```C
/**
 * @brief 			设置坐标
 * @param x,y,z		三维空间中的位置坐标
 * @param t			时间
 */
 void setPosition(double x, double y, double z, double t);
```

##### 2.8 @return 或 \return

```
@return { 返回值说明 }
```

后面接函数返回值的说明。

##### 2.9 @retval 或 \retval

```C
@retval <返回值> {描述}
```

开始一段名称为<**返回值**>的函数返回值描述。构成**描述**的段落的文本没有特殊的内部结构。所有的**视觉增强命令**可以在段落内使用。多个相邻的@retval命令将被合并成一个段落，每个返回值描述将从新的一行开始。当遇到空行或其他一些分段命令时，@retval描述结束。

##### 2.10 @warning 或 \warning

语法

```C
@warning {警告信息}
```

开始一个段落，可以输入一个或多个警告消息。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@warning命令将被合并成一个段落，每个警告描述将在新一行开始。或者，一个@warning命令可能会提到多个警告。当遇到空白行或其他分段命令时，@warning命令结束。

##### 2.11 @author 或 \author

```C
@author { 作者列表 }
```

开始一个可以输入一个或多个作者姓名的段落。这段将缩进，这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@author命令将被合并成一个段落。当遇到空行或其他分段命令时，@author命令结束。

```
/**
  * @file 文件名
  * @auther 作者，对作者的描述
  */
```

##### 2.12 @date 或 \date

```C
@date { 日期描述 }
```

开始一个可以输入一个或多个日期的段。这段将缩进。这段文字没有特殊的内部结构，所有的视觉增强命令可以在段落内使用。多个相邻的@date命令将被合并成一个段落，每个日期描述将在新一行开始。或者，一个@date命令可以提到几个日期。当遇到空行或其他分段命令时，@date命令结束。

```c
/**
 * @file 
 * @date 2023年02月18日
 */
```

##### 2.13 @version 或 \version

```C
@version { 版本号 }
```

开始一个可以输入一个或多个版本字符串的段落。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@version命令将被合并成一个段落，每个版本描述将从一个新行开始。或者，一个@version命令可能会提到几个版本字符串。当遇到空白行或其它分段命令时，@version命令结束。

##### 2.14 @copyright 或 \copyright

```C
@copyright { 版权描述 }
```

开始一个描述实体版权的段。这一段将缩进。这段文字没有特殊的内部结构。

```C
/**
 * @file
 * @copyright 版权描述
 */
```

##### 2.15 @attention 或 \attention

```
@attention { 注意文本 }
```

开始一个需要注意的信息段落。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@attention命令将被合并成一个段落。当遇到空白行或其他分段命令时，@attention命令结束。

```C
/**
 * @file
 * 这是文件记录
 * @attention 在这里编辑注意信息。
 * 			  这里可以继续编辑，要结束该命令，只需将下一行保留为空行即可
 *
 * @attention 相邻的 @attention 命令会被合并为一个段落。
 */
```

##### 2.16 @note 或 \note

```
@note { 注解内容 }
```

开始一个可以输入一个注解的段。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@note命令将被合并成一个段，每个注解描述将在新的一行开始。或者，一个@note命令可以提到几个注解。当遇到空行或这其他分段命令时，@note命令结束。

##### 2.17 @warning 或 \warning

```
@warning { 警告信息 }
```

开始一个段落，可以输入一个或多个警告消息。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@warning命令将被合并成一个段落，每个警告描述将在新一行开始。或者，一个@warning命令可能会提到多个警告。当遇到空白行或其他分段命令时，@warning命令结束。

##### 2.18 @remark 或 \remark

```
@remark { 备注文本 }
```

开始一个可以输入一个或多个备注的段落。这段将缩进。这段文字没有特殊的内部结构。所有的视觉增强命令可以在段落内使用。多个相邻的@remark命令将被合并成一个段落，每个备注将在新的一行开始。或者，一个@remark命令可以提到几个备注。当遇到空白行或其他分段命令时，@remark命令结束。

```C
/**
 * @file
 * @remark 备注文本
 */
```

##### 2.19 @deprecated、\deprecated

```
@deprecated { 弃用描述 }
```

开始一个段，指示此记录块属于已弃用的实体。可用于描述替代品、预期寿命等。

这会生成一个弃用表。

```C
/**
 * @file
 * @deprecated 弃用描述
 */
```



#### 3 注释模板



#### 4 注意事项

##### 4.1 注释前面的代码

由于Doxygen对于批注是**视为在解释后面的程序代码**，所以要批注前面的程序代码则需要用下面格式的批注符号：

```c
一般用在单行注释中（常量/变量、宏定义、枚举类型的成员、类/结构体/联合体的成员变量）
/*!< ...批注... */
/**< ...批注... */
或者
//!< ...批注...
///< ...批注...  
以上两种批注方式都推荐使用第二种写法。
```

##### 4.2 命令开头符号

doxygen命令以@或\开始，两种方式均可以。

#### 5 视觉增强命令

